# java.io 패키지
## JAVA의 기본적인 데이터 입출력 API 제공
|java.io 패키지의 주요 클래스|설명|
|---|---|
|File|파일 시스템의 파일의 정보를 얻기 위한 클래스|
|Console|콘솔로부터 문자를 입출력하기 위한 클래스|
|InputStream / OutputStream|바이트 단위 입출력을 위한 최상위 입출력 스트림 클래스|
|FileInputStream / FileOutputStream<br>DataInputStream / DataOutputStream<br>ObjectInputStream / ObjectOutputStream<br>PrintStream<br>BufferedInputStream / BufferedOutputStream|바이트 단위 입출력을 위한 하위 스트림 클래스|
|Reader / Writer|문자 단위 입출력을 위한 최상위 입출력 스트림 클래스|
|FileReader / FileWriter<br>InputStreamReader / OutputStreamWriter<br>PrintWriter<br>BufferedReader / BufferedWriter|문자 단위 입출력을 위한 하위 스트림 클래스|

# 바이트 기반 스트림과 문자 기반 스트림
- 바이트 기반 스트림
    - 그림, 멀티미디어, 문자 등 모든 종류의 데이터를 받고 보낼 수 있다.
- 문자 기반 스트림
    - 문자만 받고 보낼 수 있도록 특화되어 있다.

## InputStream
- 바이트 기반 입력 스트림의 최상위 클래스로 추상 클래스이다.
### InputStream의 주요 메서드
|리턴타입|메서드|설명|
|---|---|---|
|int|read()|입력 스트림으로부터 1바이트를 읽고 읽은 바이트를 리턴한다.|
|int|read(byte[] b)|입력 스트림으로부터 읽은 바이트들을 매개값으로 주어진 바이트 배열 b에 저장하고 실제로 읽은 바이트 수를 리턴한다.|
|int|read(byte[] b, int off, int len)|입력 스트림으로부터 `len`개의 바이트만큼 읽고 매개값으로 주어진 바이트 배열 `b[off]`부터 `len`개까지 저장한다.<br>그리고 실제로 읽은 바이트 수인 `len`개를 리턴한다. 만약 len개를 모두 읽지 못하면 실제로 읽은 바이트 수를 리턴한다.|
|void|close()|사용한 시스템 자원을 반납하고 입력 스트림을 닫는다.|

#### read() 메서드
```java
InputStream is = new FileInputStream("C:/test.txt");
int readByte;   // input stream으로 부터 읽은 데이터가 저장됨
while((readByte = is.read()) != -1) { // "abcde"인 5byte의 데이터를 읽으면 5번 실행됨.
    System.out.println(readByte);
} 
is.close();
```
output
```
97
98
99
100
101
```
- `read()` 메서드는 더이상 읽을 데이터가 없으면 -1을 리턴
    - 매개변수가 없는 `read()` 메서드는 읽은 데이터를 리턴

#### read(byte[] b) 메서드
```java
InputStream is = new FileInputStream("C:/test.txt"); // "abcde"인 5byte 저장되어있다고 가정
int readByteNo;
byte[] readBytes = new byte[3];
String data = "";

while((readByteNo = is.read(readBytes)) != -1) {
    System.out.println("readByteNo = " + readByteNo);
    if(readByteNo == -1) break;
    data += new String(readBytes, 0, readByteNo); // 배열의 0부터 readByteNo 인덱스까지를 계속 저장
}

System.out.println("data = " + data);
is.close();
```
output
```
readByteNo = 3
readByteNo = 2
data = abcde
```
- 매개변수가 있는 `read(byte[] b)` 메서드는 읽은 바이트 수를 리턴하고, 읽은 데이터는 byte배열 b에 저장

#### read(byte[] b, int off, int len) 메서드
- `int off`: 시작 인덱스, `int len`: 길이
- len만큼 읽어서 b의 off 인덱스부터 저장해라
```java
InputStream is = new FileInputStream("C:/test.txt");
int readByteNo;
byte[] readBytes = new byte[8];
readByteNo = is.read(readBytes, 2, 3);
for(int i = 0; i < readBytes.length; i++>) {
    System.out.println(readBytes[i]);
}
is.close();
```
output
```
0
0
97
98
99
0
0
0
```

#### close() 메서드
- InputStream을 더 이상 사용하지 않을 경우 호출해준다.
- InputStream에서 사용했던 시스템 자원을 풀어준다.

## OutputStream
- 바이트 기반 출력 스트림의 최상위 클래스로 추상 클래스이다.
### OutputStream의 주요 메서드
|리턴타입|메서드|설명|
|---|---|---|
|void|write(int b)|출력 스트림으로 1바이트를 보낸다.|
|void|write(byte[] b)|출력 스트림에 매개값으로 주어진 바이트 배열 b의 바이트를 보낸다.|
|void|write(byte[] b, int off, int len)|출력 스트림에 매개값으로 주어진 바이트 배열 b[off] 부터 len개까지의 바이트를 보낸다.|
|void|**flush()**|버퍼에 잔류하는 모든 바이트를 출력한다.|
|void|close()|사용한 시스템 자원을 반납하고 출력 스트림을 닫는다.|

#### write(int b) 메서드
```java
OutputStream os = new FileOutputStream("C:/test.txt");   // 데이터가 저장될 파일 경로
byte[] data = "ABC".getBytes();
for(int i = 0; i < data.length; i++) {
    os.write(data[i])   // "A", "B", "C"를 하나씩 출력
}
os.flush(); // 버퍼에 남아있는 데이터를 마저 출력시켜야함
os.close();
```
#### write(byte[] b) 메서드
```java
OutputStream os = new FileOutputStream("C:/test.txt");
byte[] data = "ABC".getBytes();
os.write(data);
os.flush();
os.close();
```
- 위의 메서드보다 더 효율적임
#### write(byte[] b, int off, int len) 메서드
```java
OutputStream os = new FileOutputStream("C:/test.txt");
byte[] data = "ABC".getBytes();
os.write(data, 1, 2); // "BC"만 출력
os.flush();
os.close();
```

## Reader
- 문자 기반 입력 스트림의 최상위 클래스로 추상 클래스이다.
- 하나의 문자는 2byte로 구성.
### Reader의 주요 메서드
|리턴타입|메서드|설명|
|---|---|---|
|int|read()|입력 스트림으로부터 1개의 문자를 읽고 리턴한다.|
|int|read(char[] cbuf)|입력 스트림으로부터 읽은 문자들을 매개값으로 주어진 배열 cbuf에 저장하고 실제로 읽은 문자 수를 리턴한다.|
|int|read(char[] cbuf, int off, int len)|입력 스트림으로부터 `len`개의 문자를 읽고 매개값으로 주어진 문자 배열 `cbuf[off]`부터 `len`개까지 저장한다.<br>그리고 실제로 읽은 문자 수인 `len`개를 리턴한다. |
|void|close()|사용한 시스템 자원을 반납하고 입력 스트림을 닫는다.|

#### read() 메서드
```java
Reader reader = new FileReader("C:/test.txt");  // "AB"
int readData;
while((readData = reader.read()) != -1) {
    char charData = (char) readData; // byte to char
    System.out.print(charData); // "AB"
}

reader.close();
```
#### read(char[] cbuf) 메서드
```java
Reader reader = new FileReader("C:/test.txt");  // "ABC"
int readCharNo;
char[] cbuf = new char[2];
String data = "";
while((readCharNo = reader.read(cbuf)) != -1) {
    data += new String(cbuf, 0, readCharNo);
}
System.out.println(data);

reader.close();
```
#### read(char[] cbuf, int off, int len)
```java
Reader reader = new FileReader("C:/test.txt");  // "ABC"
int readCharNo;
char[] cbuf = new char[4];
readCharNo = reader.read(cbuf, 1, 2);
for(int i = 0; i < cbuf.length; i++) {
    System.out.println(cbuf[i]);
}
reader.close();
```
output
```

A
B

```

## Writer
- 문자 기반 출력 스트림의 최상위 클래스로 추상 클래스이다.
### Writer의 주요 메서드
|리턴타입|메서드|설명|
|---|---|---|
|void|write(int c)|출력 스트림으로 매개값으로 주어진 한 문자를 보낸다.|
|void|write(char[] cbuf)|출력 스트림에 매개값으로 주어진 문자 배열 cbuf의 문자를 보낸다.|
|void|write(char[] cbuf, int off, int len)|출력 스트림에 매개값으로 주어진 문자 배열 cbuf[off] 부터 len개까지의 바이트를 보낸다.|
|void|write(String str)|출력 스트림에 매개값으로 주어진 문자열을 전부 보낸다.|
|void|write(String str, int off, int len)|출력 스트림에 매개값으로 주어진 문자열 off인덱스부터 len개까지의 문자를 보낸다.|
|void|**flush()**|버퍼에 잔류하는 모든 문자열을 출력한다.|
|void|close()|사용한 시스템 자원을 반납하고 출력 스트림을 닫는다.|

#### write(int c) 메서드
```java
Writer writer = new FileWriter("C:/test.txt");
char[] data = "홍길동".toCharArray();
for(int i = 0; i < data.length; i++) {
    writer.write(data[i]);
}   // "홍길동"

writer.flush();
writer.close();
```

output
```
// test.txt
홍길동
```

#### write(char[] cbuf) 메서드
```java
Writer writer = new FileWriter("C:/test.txt");
char[] data = "홍길동".toCharArray();
writer.write(data); // "홍길동"

writer.flush();
writer.close();
```


#### write(char[] cbuf, int off, int len) 메서드
```java
Writer writer = new FileWriter("C:/test.txt");
char[] data = "홍길동".toCharArray();
writer.write(data, 1, 2); // "길동"

writer.flush();
writer.close();
```

#### write(String str) 메서드
```java
Writer writer = new FileWriter("C:/test.txt");

String data = "안녕 자바 프로그램";
writer.write(data); // "안녕 자바 프로그램"

writer.flush();
writer.close();
```

#### write(String str, int off, int len) 메서드
```java
Writer writer = new FileWriter("C:/test.txt");

String data = "안녕 자바 프로그램";
writer.write(data, 3, 2); // "자바"

writer.flush();
writer.close();
```
