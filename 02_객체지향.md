# Ch06
## 객체지향 프로그래밍(OOP)의 4가지 핵심개념
- 캡슐화
- 상속
- 추상화
- 다형성
## 객체지항 개념 공부법
- 객체지향 개념은 규칙이기 때문에 일단 외워라.
- A4용지 2장정도 되는데 그거 외우삼
- 계속 기억하고 있어야 코딩이 가능하다.
## 클래스와 객체
### 클래스와 객체의 정의와 용도
- 클래스의 정의: 클래스란 객체를 정의해 놓은 것임
- 클래스의 용도: 객체를 생성하는데 사용

<br>

- 객체의 정의: 실제로 존재하는 것. 사물 또는 개념
- 객체의 용도: 객체의 속성과 기능에 따라 다름  
```
클래스: 제품 설계도
객체: 제품
```
## 객체의 구성요소 - 속성과 기능
- `객체 = 속성(변수) + 기능(메서드)`
## 하나의 소스파일에 여러 클래스 있는 경우
- public 클래스가 있는 경우, 소스파일의 이름은 반드시 public 클래스의 이름과 일치해야한다. (대소문자까지 일치해야함.)
- 하나의 소스파일에 둘 이상의 public클래스가 존재하면 안된다.
- main 메서드가 있는 클래스 이름이 소스파일 이름과 일치해야 한다.

## 객체의 생성과 사용
```java
클래스명 변수명;            // 클래스의 객체를 참조하기 위한 참조변수를 선언
변수명 = new 클래스명();    // 클래스의 객체를 생성 후, 객체의 주소를 참조변수에 저장
```
### 참조변수와 인스턴스
- 하나의 인스턴스를 여러 개의 참조변수가 가리키는 경우는 가능.
- 여러 인스턴스를 하나의 참조변수가 가리키는 경우는 불가능.

## 객체 배열
객체 배열 == 참조변수 배열
```java
Tv[] tvArr = new Tv[3];     // 길이가 3인 Tv타입의 참조변수 배열
```
- 아래와 같이 객체를 배열에 꼭 넣어줘야 한다.
```java
// 객체를 생성해서 배열의 각 요소에 저장
tvArr[0] = new Tv();
tvArr[1] = new Tv();
tvArr[2] = new Tv();

// 위의 코드와 아래의 코드는 실행결과가 같다.
Tv[] tvArr = {new Tv(), new Tv(), new Tv()};
```
## 클래스의 정의
1. 설계도
2. 데이터 + 함수
3. 사용자 정의 타입

### 클래스 == 데이터 + 함수
- 변수: 하나의 데이터를 저장할 수 있는 공간
- 배열: 같은 종류의 여러 데이터를 하나로 저장할 수 있는 공간
- 구조체: 서로 관련된 여러 데이터를 **데이터의 종류와 상관없이** 하나로 저장할 수 있는 공간
- 클래스: 데이터와 함수의 결합 (구조체 + 함수)
### 클래스 == 사용자 정의 타입
- 사용자 정의 타입: 원하는 타입을 직접 만들 수 있다.
```java
// 비객체지향적 코드
int hour = 12;
int minute = 34;
int second = 56;
```
```java
// 객체지향적 코드
class Time{
    int hour;
    int minute;
    int second;
}

Time t = new Time();

t.hour = 12;
t.minute = 34;
t.second = 56;
```

## 선언 위치에 따른 변수의 종류
### 변수 3가지
1. 인스턴스 변수(iv)
2. 클래스 변수(cv)
3. 지역변수(lv)
### 영역 2가지
1. 클래스 영역
2. 메서드 영역
```java
class Variables {
    static int cv;      // 클래스 변수(static변수, 공유변수)
    int iv;             // 인스턴스 변수

    void method() {
        int lv = 0;     // 지역변수
    } // 메서드 영역
} // 클래스 영역 : 선언문만 가능
```
- 선언 순서 상관 x, 보통 변수를 위에, 메서드를 밑에 선언
![변수의 선언위치와 생성시기](./img/변수의선언위치.jpg)
- **객체는 프로그래밍 관점에서 보면 iv를 여러개 묶어놓은 것이다.**
- cv는 객체생성 안해도 자동으로 메모리에 올라감
- iv는 객체 생성되었을 때 사용가능
- lv는 메서드 종료시 자동 제거
    - 매개변수도 지역변수

## 클래스 변수와 인스턴스 변수
```java
class Card {
    // 개별적인 속성은 인스턴스 변수로 지정한다.
    String kind;
    int number;

    // 공통적인 속성은 클래스 변수로 지정한다.
    static int width = 100;
    static int height = 250;
}
```
- 객체를 여러개 만들면 iv도 여러개 생성되지만 cv는 하나만 생성된다.
### 클래스 변수와 인스턴스 변수의 사용에는 차이점이 있다.
- 먼저, 다음과 같이 Card 객체를 생성한다.
```java
Card c = new Card();
```
- 변수를 사용해보자.
```java
// iv 사용
c.kind = "HEART";
c.number = 5;

// 잘못된 cv 사용
c.width = 200;
c.height = 300;
```
- iv는 참조변수를 통해 사용하지만, 클래스 변수는 위와 같이 사용하는 것이 바람직하지 않다.
    - 왜냐면 하나의 참조변수를 통해 cv를 변경하면, 다른 참조변수의 cv도 모두 변경되기 때문이다.
- 따라서 클래스 변수는 혼동을 방지하기 위해 아래와 같이 사용한다.
```java
Card.width = 200;
Card.height = 300;
```
## 메서드란? 메서드의 선언부와 구현부
- 메서드
    - 작업단위로 문장들을 묶어서 이름 붙인 것
    - 값(입력)을 받아서 처리하고, 결과를 반환(출력)
    ```java
    반환타입 메서드이름(타입 변수명1, 타입 변수명) {     // 선언부
        메서드 호출시 수행될 코드                   // 구현부
    }

    int add(int x, int y) {
        int result = x + y;

        return result;
    }
    ```
### 메서드의 작성
- 반복적으로 수행되는 여러 문장을 메서드로 작성
- 하나의 메서드는 한가지 기능만 수행하도록 작성

## 메서드의 실행흐름
1. 객체 생성
2. 메서드 호출
3. 메서드의 구현부가 실행되고 호출한 곳으로 돌아와 이후의 문장을 실행

## return문
- 실행 중인 메서드를 종료하고 호출한 곳으로 되돌아간다.
- 반환타입이 void가 아닌 경우, 반드시 return문 필요
- 반환값을 저장할 변수도 메서드의 반환 타입과 같아야한다.(자동형변환 가능)